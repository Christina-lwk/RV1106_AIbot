# App 架构说明（Application Architecture）

1. 什么是 App
在本项目中，App指的是一个完整、可切换的功能模块，
例如：
- 主界面（Home）
- 设置界面（Settings）
- 某个具体功能或程序

它不是“界面”，也不是“线程”，而是一个逻辑功能单元。

2. App 的核心作用
App的职责是：
- 定义一个功能模块的生命周期
- 管理不同功能之间的切换
- 保证同一时间只有一个“前台功能”在运行

3. App 的生命周期
每个 App 至少包含以下阶段：

1. **init**
   - 资源初始化（只调用一次）
2. **enter**
   - 进入前台（创建 UI、启动逻辑）
3. **loop**
   - 周期性运行（非必须）
4. **exit**
   - 离开前台（销毁 UI、释放资源）

4. App Manager（应用调度器）
App Manager 是负责管理所有 App 的核心模块，主要职责：
- 注册 App
- 切换当前 App
- 维护当前运行状态

5. 为什么需要 App 层

如果没有 App 层：
- 所有功能写在 `main.c`
- UI、逻辑、状态混杂
- 后期难以扩展和维护

通过引入 App 层：
- 功能模块解耦
- 切换逻辑清晰
- 项目具备“产品级结构”

6. App 与 UI 的边界
- App 决定“现在做什么”
- UI 决定“怎么显示”
- UI 不直接切换 App
- App 不直接操作底层驱动

这种分层是长期可维护项目的基础。

